message(STATUS "[${SAVANNA_ACTIVE_TARGET}] Processing Module [${SAVANNA_ACTIVE_TARGET}]")

collect_native_sources_in_current_dir(src RECURSIVE_LIMITED)

target_sources(${SAVANNA_ACTIVE_TARGET} PUBLIC ${src})
target_include_directories(${SAVANNA_ACTIVE_TARGET} PUBLIC ${CMAKE_CURRENT_LIST_DIR})


# Include Luau as a dependency
target_link_libraries(Luau.Compiler)
target_include_directories(${SAVANNA_ACTIVE_TARGET} PUBLIC ${SAVANNA_EXTERNAL_FOLDER}/luau/Compiler/include)
target_link_libraries(Luau.VM)
target_include_directories(${SAVANNA_ACTIVE_TARGET} PUBLIC ${SAVANNA_EXTERNAL_FOLDER}/luau/VM/include)
